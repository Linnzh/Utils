## è¿­ä»£å™¨æ¨¡å¼ - Iterator

æ¦‚å¿µï¼šæä¾›ä¸€ç§æ–¹æ³•é¡ºåºè®¿é—®ä¸€ä¸ªèšåˆå¯¹è±¡ä¸­çš„å„ä¸ªå…ƒç´ ï¼Œè€Œåˆä¸éœ€è¦æš´éœ²è¯¥å¯¹è±¡çš„å†…éƒ¨è¡¨ç¤ºã€‚

åˆå**æ¸¸æ ‡ï¼ˆCursorï¼‰æ¨¡å¼**ã€‚è¯¥æ¨¡å¼çš„å…³é”®æ€æƒ³æ˜¯**å°†å¯¹åˆ—è¡¨çš„è®¿é—®å’ŒéåŽ†ä»Žåˆ—è¡¨å¯¹è±¡ä¸­åˆ†ç¦»å‡ºæ¥ï¼Œå¹¶æ”¾å…¥ä¸€ä¸ªè¿­ä»£å™¨ï¼ˆiteratorï¼‰å¯¹è±¡ä¸­**ã€‚è¿­ä»£å™¨ç±»å®šä¹‰äº†ä¸€ä¸ªè®¿é—®è¯¥åˆ—è¡¨å…ƒç´ çš„æŽ¥å£ã€‚è¿­ä»£å™¨å¯¹è±¡è´Ÿè´£è·Ÿè¸ªå½“å‰å…ƒç´ ï¼Œå³å®ƒå·²ç»çŸ¥é“å“ªäº›å…ƒç´ å·²ç»è¢«éåŽ†è¿‡äº†ã€‚

![è¿­ä»£å™¨è®¾è®¡æ¨¡å¼](assets/è®¾è®¡æ¨¡å¼/iterator-zh.png)

### é€‚ç”¨æ€§

- è®¿é—®ä¸€ä¸ªèšåˆå¯¹è±¡çš„å†…å®¹è€Œæ— éœ€æš´éœ²å®ƒçš„å†…éƒ¨è¡¨ç¤ºã€‚
- æ”¯æŒå¯¹èšåˆå¯¹è±¡çš„å¤šç§éåŽ†ï¼šæ·±åº¦ä¼˜å…ˆéåŽ†ã€å¹¿åº¦ä¼˜å…ˆéåŽ†ç­‰ã€‚
- ä¸ºéåŽ†ä¸åŒçš„èšåˆç»“æž„æä¾›ä¸€ä¸ªç»Ÿä¸€çš„æŽ¥å£ï¼ˆå³æ”¯æŒå¤šæ€è¿­ä»£ï¼‰ã€‚

### ç‰¹ç‚¹

- æ”¯æŒä»¥ä¸åŒçš„æ–¹å¼éåŽ†ä¸€ä¸ªèšåˆã€‚ä¾‹å¦‚ä»£ç ç”Ÿæˆå’Œè¯­ä¹‰æ£€æŸ¥è¦éåŽ†è¯­æ³•åˆ†æžæ ‘ã€‚
- ç®€åŒ–äº†èšåˆçš„æŽ¥å£ã€‚
- åœ¨åŒä¸€ä¸ªèšåˆä¸Šå¯ä»¥æœ‰å¤šä¸ªéåŽ†ï¼Œæ¯ä¸ªè¿­ä»£å™¨ä¿æŒå®ƒè‡ªå·±çš„éåŽ†çŠ¶æ€ï¼Œå¯ä»¥åŒæ—¶è¿›è¡Œå¤šä¸ªéåŽ†ã€‚

### å‚ä¸Žè€…

- Iteratorï¼ˆè¿­ä»£å™¨æŽ¥å£ï¼‰
    - å®šä¹‰è®¿é—®å’ŒéåŽ†å…ƒç´ çš„æŽ¥å£ã€‚
- ConcreteIteratorï¼ˆå…·ä½“è¿­ä»£å™¨ï¼‰
    - å®žçŽ°è¿­ä»£å™¨æŽ¥å£ã€‚
    - å¯¹è¯¥èšåˆéåŽ†æ—¶ï¼Œè·Ÿè¸ªå½“å‰ä½ç½®ã€‚
- Aggregateï¼ˆèšåˆ/é›†åˆï¼‰
    - å®šä¹‰åˆ›å»ºç›¸åº”è¿­ä»£å™¨å¯¹è±¡çš„æŽ¥å£ã€‚
- ConcreteAggregateï¼ˆå…·ä½“èšåˆ/é›†åˆï¼‰
    - å®žçŽ°åˆ›å»ºç›¸åº”è¿­ä»£å™¨çš„æŽ¥å£ï¼Œè¯¥æ“ä½œè¿”å›ž ConcreteIterator çš„ä¸€ä¸ªé€‚å½“çš„å®žä¾‹ã€‚

### æ¡ˆä¾‹

- å„ç±»åˆ—è¡¨ï¼ŒåŒ…æ‹¬å †ã€æ ˆã€é˜Ÿåˆ—ã€æ ‘ã€å›¾ç­‰ã€‚

### å¯¹çŽ°æœ‰ä¸šåŠ¡çš„æ€è€ƒ

ç›®å‰æ²¡æœ‰å¤ªå¤šç”¨åˆ°éåŽ†çš„åœ°æ–¹ã€‚çœ‹çœ‹ä¸€äº›ç½‘ä¸Šç¤ºä¾‹å§ðŸ˜­å¹¶ä¸” PHP å·²æœ‰ Iterator æŽ¥å£ã€‚



```php
public function testExample(): void
{
    $csv = new CsvIterator(__DIR__ . '/cats.csv');

    foreach ($csv as $key => $row) {
        print_r($row);
    }

    $this->assertIsIterable($csv);
}
```
